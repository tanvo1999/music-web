var THEPLAYER={};THEPLAYER.setupPlayer=function(){function e(e,t,a,n,i,s){var l=e.getElementsByClassName("sliderHitbox")[0],o={slider:e,dot:t,filler:a,ondragging:n,ondragged:i};l.addEventListener("mousedown",function(e){r=o},!1),"number"==typeof s&&(t.style.left=a.style.width=100*s+"%")}function t(e){e=e||0;var t=e%60|0,a=e/60%60|0,n=e/3600|0;return n?n+":"+("0"+a).substr(-2)+":"+("0"+t).substr(-2):a+":"+("0"+t).substr(-2)}var a='<div class="timeStuff"><span class="currentSlashEndC"></span><span class="currentSlashEndS">/</span><span class="currentSlashEndE"></span></div><div class="container"><i class="fa fa-play w3-large playBtn"></i><i class="fa fa-pause w3-large pauseBtn"></i><div class="slider songPosition"><span class="sliderFiller"></span><i class="sliderDot"></i><span class="sliderHitbox"></span></div><div class="volumeStuff"><i class="fa fa-volume-up w3-large volumeIcon"></i><div class="slider volume"><span class="sliderFiller"></span><i class="sliderDot"></i><span class="sliderHitbox"></span></div></div></div>',n=!1,r=null;return window.addEventListener("mousedown",function(e){if(0===e.button&&(n=!0,r)){var t=Math.min(Math.max(e.clientX-r.slider.getBoundingClientRect().left,0)/r.slider.clientWidth,1);r.ondragging&&!r.ondragging(t)||(r.dot.style.left=r.filler.style.width=100*t+"%")}},!1),window.addEventListener("mouseup",function(e){0===e.button&&(n=!1,r&&r.ondragged&&r.ondragged(),r=null)}),window.addEventListener("mousemove",function(e){if(n&&r){var t=Math.min(Math.max(e.clientX-r.slider.getBoundingClientRect().left,0)/r.slider.clientWidth,1);r.ondragging&&!r.ondragging(t)||(r.dot.style.left=r.filler.style.width=100*t+"%")}}),function(n,r){if(r.target){var i=r.target;n.classList.add("paused"),n.innerHTML=a;var s=n.getElementsByClassName("currentSlashEndC")[0],l=n.getElementsByClassName("currentSlashEndE")[0],o=n.getElementsByClassName("playBtn")[0],d=n.getElementsByClassName("pauseBtn")[0],c=n.getElementsByClassName("songPosition")[0],u=n.getElementsByClassName("volume")[0],m=c.getElementsByClassName("sliderDot")[0],p=u.getElementsByClassName("sliderDot")[0],f=c.getElementsByClassName("sliderFiller")[0],g=u.getElementsByClassName("sliderFiller")[0],y=!1;i.addEventListener("pause",function(){y||n.classList.add("paused")}),i.addEventListener("play",function(){y||n.classList.remove("paused")}),i.addEventListener("timeupdate",function(){y||(f.style.width=m.style.left=i.currentTime/i.duration*100+"%"),s.innerHTML=t(i.currentTime),l.innerHTML=t(i.duration)}),e(c,m,f,function(e){return y=!0,i.paused||i.pause(),i.duration&&(i.currentTime=e*i.duration),!Number.isNaN(i.duration)},function(){Number.isNaN(i.duration)||(i.play(),y=!1)}),e(u,p,g,function(e){return r.onvolumechange?r.onvolumechange(e):i.volume=e,!0},null,r.volume),s.innerHTML=t(i.currentTime),l.innerHTML=t(i.duration),o.addEventListener("click",function(){i.src&&i.play()}),d.addEventListener("click",function(){i.pause()})}}}(),window.addEventListener("load",function(){for(var e=document.getElementsByClassName("aPlayer"),t=0;t<e.length;t++){var a=e[t];a.dataset.autoload&&setupPlayer(a,{target:document.getElementById(a.dataset)})}var n=document.createElement("style");n.type="text/css",n.innerHTML=".aPlayer *{user-select:none;-o-user-select:none;-moz-user-select:none;-webkit-user-select:none;display:inline-block;color:#fff}.aPlayer{text-align:center;background:0 0}.aPlayer .timeStuff{display:inline-block;width:100%;height:48px;text-align:center;position:relative;top:32px;background:#111;z-index:10}.aPlayer .timeStuff *{margin:0 16px;position:relative;z-index:20}.aPlayer .timeStuff .currentSlashEndS{font-size:1.2em}.aPlayer .container{text-align:left;position:relative;background:0 0;width:100%;height:32px!important;z-index:15}.aPlayer .container .playBtn,.aPlayer .pauseBtn,.aPlayer .volumeIcon{width:32px;height:32px;line-height:32px;vertical-align:middle;text-align:center;margin:0 4px}.aPlayer .container .pauseBtn,.aPlayer .playBtn{transition:transform .5s;-o-transition:transform .5s;-moz-transition:transform .5s;-webkit-transition:transform .5s}.aPlayer .container .pauseBtn{margin:0 0 0 -36px;backface-visibility:hidden;transform:rotateX(0);-o-transform:rotateX(0);-moz-transform:rotateX(0);-webkit-transform:rotateX(0)}.aPlayer .container .playBtn{backface-visibility:hidden;transform:rotateX(180deg);-o-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-webkit-transform:rotateX(180deg)}.aPlayer.paused .container .pauseBtn{transform:rotateX(180deg);-o-transform:rotateX(180deg);-moz-transform:rotateX(180deg);-webkit-transform:rotateX(180deg)}.aPlayer.paused .container .playBtn{transform:rotateX(0);-o-transform:rotateX(0);-moz-transform:rotateX(0);-webkit-transform:rotateX(0)}.aPlayer .container .slider{height:2px;background:#222;margin:0 4px;position:absolute;top:50%;transform:translateY(-50%);-o-transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%)}.aPlayer .container .slider .sliderDot{background:#fff;width:12px;height:12px;border-radius:6px;position:absolute;top:-5px;left:0;transform:translateX(-50%);-o-transform:translateX(-50%);-moz-transform:translateX(-50%);-webkit-transform:translateX(-50%)}.aPlayer .container .slider .sliderFiller{background:#fff;height:2px;width:0;position:absolute}.aPlayer .container .slider .sliderHitbox{display:inline-block;width:calc(100% + 12px);width:-o-calc(100% + 12px);width:-moz-calc(100% + 12px);width:-webkit-calc(100% + 12px);height:12px;position:absolute;top:-5px;left:-6px}.aPlayer .container .slider.songPosition{width:calc(100% - 164px);width:-o-calc(100% - 164px);width:-moz-calc(100% - 164px);width:-webkit-calc(100% - 164px)}.aPlayer .container .slider.volume{width:calc(100% - 54px);width:-o-calc(100% - 54px);width:-moz-calc(100% - 54px);width:-webkit-calc(100% - 54px)}.aPlayer .container .volumeStuff{position:relative;float:right;width:120px}",document.getElementsByTagName("head")[0].appendChild(n)});